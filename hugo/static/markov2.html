
<html>
    <head>
		<style>
			textarea.ui-input-text { height: inherit !important}
		</style>
    </head>
    <body style="">
        <p>&nbsp;</p>
        <p>
        <meta charset="UTF-8">
        <title>名言生成器</title>
        <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.css" />
	<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
		<script type="text/javascript" src="http://code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js"></script>
			<script type="text/javascript" src="jscss/tiny_segmenter-0.1.js" charset="UTF-8">
        </script> <script type="text/javascript">
	var segmenter
	$(function(){
		segmenter = new TinySegmenter();// インスタンス生成
	})
	//実行
	function doAction(){
		var wkIn=$("#txtIN").val()//インプット
		var segs = segmenter.segment(wkIn);  // 単語の配列が返る
		var dict=makeDic(wkIn)
		var wkbest=doShuffle(dict);	
		for(var i=0;i<=10;i++){
		wkOut=doShuffle(dict).replace(/\n/g,"");	
			if(Math.abs(30-wkOut.length)<Math.abs(30-wkbest.length)){
				wkbest=wkOut
			}
		}
		
		$("#txtOUT").val(wkbest);//アウトプット
		
	}
	//文章をシャッフル
	function doShuffle(wkDic){
		var wkNowWord=""
		var wkStr=""
		wkNowWord=wkDic["_BOS_"][Math.floor( Math.random() * wkDic["_BOS_"].length )];
		wkStr+=wkNowWord;
		while(wkNowWord != "_EOS_"){
			wkNowWord=wkDic[wkNowWord][Math.floor( Math.random() * wkDic[wkNowWord].length )];
			wkStr+=wkNowWord;
		}
		wkStr=wkStr.replace(/_EOS_$/,"。")
		return wkStr;
	}
	//辞書に追加
	function makeDic(wkStr){
		wkStr=nonoise(wkStr);
		var wkLines= wkStr.split("。");
		var wkDict=new Object();
		for(var i =0;i<=wkLines.length-1;i++){
			var wkWords=segmenter.segment(wkLines[i]);
			if(! wkDict["_BOS_"] ){wkDict["_BOS_"]=new Array();}
			if(wkWords[0]){wkDict["_BOS_"].push(wkWords[0])};//文頭

			for(var w=0;w<=wkWords.length-1;w++){
				var wkNowWord=wkWords[w];//今の単語
				var wkNextWord=wkWords[w+1];//次の単語
				if(wkNextWord==undefined){//文末
					wkNextWord="_EOS_"
				}
				if(! wkDict[wkNowWord] ){
					wkDict[wkNowWord]=new Array();
				}
				wkDict[wkNowWord].push(wkNextWord);
				if(wkNowWord=="、"){//「、」は文頭として使える。
					wkDict["_BOS_"].push(wkNextWord);
				}
			}
			
		}
		return wkDict;
	}
	
	//ノイズ除去
	function nonoise(wkStr){
		wkStr=wkStr.replace(/\n/g,"。");
		wkStr=wkStr.replace(/[\?\!？！]/g,"。");
		wkStr=wkStr.replace(/[-|｜:：・]/g,"。");
		wkStr=wkStr.replace(/[「」（）\(\)\[\]【】]/g," ");
		return wkStr;
	}	
</script>  </meta>
<div data-role="page" id="first">
	<div data-role="content">	

        <p>名言を自動生成します</p>
					<p><textarea cols="60" rows="8" name="txtIN" id="txtIN"  style="max-height:200px;">
人間はひとくきの葦にすぎない
自然の中で最も弱いものである
だが、それは考える葦である
その日その日が一年中の最善の日である
チャンスは貯蓄できない
希望さえあればどんな所にでも辿りつけると決心している
死者にたいする最高の手向けは、悲しみではなく感謝だ
人生は道路のようなものだ
一番の近道は、たいてい一番悪い道だ
世の中は、君の理解する以上に栄光に満ちている
人付き合いがうまいというのは、人を許せるということだ
生きるとは呼吸することではない
行動することだ
人生は学校である
そこでは幸福より不幸の方が良い教師である
若い女は美しい
しかし、老いた女はもっと美しい
今日という日は、残りの人生の最初の一日
卵を割らなければ、オムレツは作れない
至上の処世術は、妥協することなく適応することである
人間、志を立てるのに遅すぎるということはない
確かに世の中は不公平だ
美人や美青年がいる一方で、あなたがいる
だからなんだ！？それを嘆いてどうするの？太陽が輝くかぎり、希望もまた輝く
行動は必ずしも幸福をもたらさないかも知れないが、行動のない所に、幸福は、生まれない
成し遂げんとした志をただ一回の敗北によって捨ててはいけない
花を与えるのは自然であり、それを編んで花輪にするのが芸術である
やってみせて、言って聞かせて、やらせてみて、ほめてやらねば人は動かじ
話し合い、耳を傾け、承認し、任せてやらねば、人は育たず
やっている、姿を感謝で見守って、信頼せねば、人は実らず
「みんなと同じ事はしたくない」という、みんなと同じセリフ
どこに行こうとしているのかわかっていなければ、どの道を通ってもどこにも行けない
一生の間に一人の人間でも幸福にすることが出来れば自分の幸福なのだ自分の道を進む人は、誰でも英雄です
過去も未来も存在せず、あるのは現在と言う瞬間だけだ知は力なり下手糞の上級者への道のりは己が下手さを知りて一歩目人生は一箱のマッチに似ている
重大に扱うのはばかばかしい
重大に扱わねば危険である
社長なんて偉くもなんともない
課長、部長、包丁、盲腸と同じだ
要するに命令系統をはっきりさせる記号にすぎない
人生はクローズアップで見れば悲劇ロングショットで見れば喜劇善行は悪行と同じように、人の憎悪を招くものである
何も咲かない寒い日は、下へ下へと根をのばせ、やがて大きな花が咲く
昨日は昨日
大事なのは明日だ
よく聞け、金を残して死ぬ者は下だ
仕事を残して死ぬ者は中だ
人を残して死ぬ者は上だ
よく覚えておけ人は死ぬかもしれないし、国は興亡するかもしれないが、理念は生き続ける
諸君は必ず失敗する
成功があるかもしれませぬけど、成功より失敗が多い
失敗に落胆しなさるな
失敗に打ち勝たねばならぬ
叱ってくれる人を持つことは大きな幸福であるPKを外す事ができるのは、PKを蹴る勇気を持った者だけだ私は先輩のギャルソンに、お客様は王様であると教えられました
しかし、先輩は言いました
王様の中には首をはねられた奴も大勢いると例え、例えですね、明日死ぬとしても、やり直しちゃいけないって、誰が決めたんですか？誰が決めたんですか？学生時代に大事なのは、何を学んだかではなくて、どうやって学んだかということ
勝つことは、人を止める
負けることは、人を進める
イジメは絶対悪や絶対になくならへん!あんなおもろい事誰がやめんねん!お前な、イジメられてるって事はチャンスなんやぞ!?なんで笑いにもっていかん!?死ぬことに意味を持つな
生きるんだ！あのね、立派な人になんかにならなくてもいいの
感じの良い人になって下さい
「Iloveyou」という言葉に初めて二葉亭四迷がぶつかったとき、どう訳すか悩んだらしいんですよ
今みたいに「好き」「愛している」使わない時代ですから
それで、何と訳したと思います？「私は死んでもいい」・・・と
あのね、立派な人になんかにならなくてもいいの
感じの良い人になって下さい
何でも謝って済むことではないけれど謝れない人間は最低だ正しいという字は「一つ」「止まる」と書きます
「どうか一つ止まって判断できる人になって下さい大きな志を持つ者は小さな屈辱に耐えよ、耐えられるはずだ
人生は勝ち負けじゃない負けたって言わない人が勝ちなのよ幸せになろうと思わないで下さい幸せをつかみに行って幸せをつかんだ人は１人もいません
幸せは感じるものです人生で起こることは、すべて、皿の上でも起こる
人生で大事なことは、何を食べるか、ではなく、どこで食べるか、である人生とオムレツは、タイミングが大事
トマトに塩をかければ、サラダになる
まずい食材はない
まずい料理があるだけだ
智に働けば角が立つ
情に棹せば流される
意地を通せば窮屈だ
兎角にこの世は住みにくい
結婚は顔を赤くするほど嬉しいものでもなければ、恥ずかしいものでもないよ
彼らにとって絶対に必要なものはお互いだけで、お互いだけが、彼らにはまた充分であった
彼らは山の中にいる心を抱いて、都会に住んでいた
恋は罪悪ですよ
運命は神の考えることだ
人間は人間らしく働けばそれで結構である
如何に至徳の人でもどこかしらに悪いところがあるように、人も解釈し自分でも認めつつあるのは疑いもない真実だろうと思う
吾人は自由を欲して自由を得た
自由を得た結果、不自由を感じて困っている
戦場でおびえたことを、恥じることは決してない
恥ずべきは、人間の尊厳を根こそぎ奪い取る、戦争や社会体制なのだ人生を賭けるに値するのは、夢だけだと思いませんか？あきらめたらそこで試合終了だよ
「負けたことがある」というのがいつか大きな財産になる
いいか！これから先、お前から夢や希望を奪おうとする事がたくさんある
両親がお前の大事なものを捨てたようにだ！でも、負けるんじゃないぞ
夢や希望ってやつは捨てるのは簡単だが、取り戻すのはすごく難しいんだ
あんまりHな目をしていると女の子に嫌われちゃうぞ
温室育ちのバラより、野生のバラの方が強いんだぜ
初めて流す悔し涙か
男は何度か泣いて本当の男になるのさ
さあ、我が腕の中で息絶えるがよい
もはや再び生き返らぬよう、そなたらのはらわたを喰らい尽くしてやるわ
買わない奴は日本を去れ
あいつの場合に限って常に最悪のケースを想定しろ
奴は必ずその少し斜め上を行く
あの御二人から何故このような悪魔が生まれてこなければならなかったのか
それを思うと…それはもう残念でならない女の涙は信用してはいけない
これは数少ない宇宙共通の真理だ二人の人間が愛し合えば、ハッピーエンドはあり得ない
二人の間に恋がなくなったとき、愛し愛された昔を恥ずかしく思わない人はほとんどいない恋愛は幸福を殺し、幸福は恋愛を殺す
恋の喜びが結局悲しみをもたらすということは、もういろいろな女の例ではっきりしているんですもの
私は恋も悩みも両方捨てますから、悪いことも起こらないでしょう
恋の悲しみを知らぬものに恋の味は話せない
恋の苦しみは、あらゆるほかの悦びよりずっと愉しい
恋わずらいの人は、ある種の病人のように自分自身が医者になる
苦悩の原因をなした相手から癒してもらえることはないのだから、結局は、その苦悩の中に薬を見出すのである
恋とは巨大な矛盾であります
それなくしては生きられず、しかもそれによって傷つく
男は別れの言い方が分からない
女はそれを言うべき時が分からない
私の愛人が他の男によって幸せになるのを見るくらいなら、私はその女が不幸になるのを見たほうがマシだ
恋という奴は一度失敗してみるのもいいかも知れぬ、そこで初めて味がつくような気がするね
女性が綺麗になる方法は二つあります
「いい恋をすること」と「悪い恋をやめてしまうこと」です
恋をすることは苦しむことだ
苦しみたくないなら、恋をしてはいけない
でもそうすると、恋をしていないことでまた苦しむことになる
嫉妬は常に恋と共に生まれる
しかし必ずしも恋と共には滅びない
恋の味を痛烈に味わいたいならば、それは片思いか失恋する以外にないだろう
</textarea></p>
        <input type="button" name="" value="生成" onClick=" doAction()"></br>
        <textarea cols="60" rows="8" name="txtIN" id="txtOUT"></textarea>
        <p></p>
</div><!-- /page -->
</div><!-- /page -->
</body>
</html>