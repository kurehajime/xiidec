!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";
/* @license Copyright (c) @kurehajime / source code: https://github.com/kurehajime/colamone_js */
function r(){}n.d(t,"a",(function(){return r})),r.copyMap=function(e){return new Int8Array(e)},r.thinkAI=function(e,t,n,r,a,l){var c=!1,u=[null,null],d=new Int8Array(e);l||(l=o);0!==i(d,!1)&&(c=!0);(u=f(d,t,n,r,a,c,l))[1]*t==-999999&&(u=f(d,t,1,r,a,c,l));return u},r.getCanMovePanelX=s,r.isEndX=i,r.isDraw=c;var a=[[0,0,0,0,0,0,0,1,0],[0,1,0,0,0,0,0,1,0],[0,1,0,0,0,0,1,0,1],[1,0,1,0,0,0,1,0,1],[1,0,1,0,0,0,1,1,1],[1,1,1,0,0,0,1,1,1],[1,0,1,1,0,1,1,1,1],[1,1,1,1,0,1,1,1,1],[0,0,0,0,0,0,0,0,0],[1,1,1,1,0,1,1,1,1],[1,1,1,1,0,1,1,0,1],[1,1,1,0,0,0,1,1,1],[1,1,1,0,0,0,1,0,1],[1,0,1,0,0,0,1,0,1],[1,0,1,0,0,0,0,1,0],[0,1,0,0,0,0,0,1,0],[0,1,0,0,0,0,0,0,0]],l=[0,1,2,3,4,5,10,11,12,13,14,15,20,21,22,23,24,25,30,31,32,33,34,35,40,41,42,43,44,45,50,51,52,53,54,55],o={1:[1800,1850,1900,1950,2100,2800],2:[1800,1860,1920,2100,2400,3800],3:[1450,1520,1590,1900,2350,4450],4:[1450,1530,1610,2050,2650,5450],5:[1350,1440,1530,2100,2850,6350],6:[1350,1450,1550,2250,3150,7350],7:[1250,1360,1470,2300,3350,8250],8:[1250,1370,1490,2450,4350,11250]};function i(e,t){var n=0,r=0;if(e[0]>0&&(n+=e[0]),e[10]>0&&(n+=e[10]),e[20]>0&&(n+=e[20]),e[30]>0&&(n+=e[30]),e[40]>0&&(n+=e[40]),e[50]>0&&(n+=e[50]),-1*e[5]>0&&(r+=e[5]),-1*e[15]>0&&(r+=e[15]),-1*e[25]>0&&(r+=e[25]),-1*e[35]>0&&(r+=e[35]),-1*e[45]>0&&(r+=e[45]),-1*e[55]>0&&(r+=e[55]),n>=8)return 1;if(r<=-8)return-1;if(u(e))return n>-1*r?1:n<-1*r?-1:0;if(!1===t&&(0!==n||0!==r)){for(var a=0,o=0,i=0;i<=35;i++){var c=0|l[i];e[c]>0?a+=e[c]:e[c]<0&&(o+=e[c])}if(n>-1*(o+r))return 1;if(-1*r>a+n)return-1}return 0}function c(e){var t=0,n=0;return e[0]>0&&(t+=e[0]),e[10]>0&&(t+=e[10]),e[20]>0&&(t+=e[20]),e[30]>0&&(t+=e[30]),e[40]>0&&(t+=e[40]),e[50]>0&&(t+=e[50]),-1*e[5]>0&&(n-=e[5]),-1*e[15]>0&&(n-=e[15]),-1*e[25]>0&&(n-=e[25]),-1*e[35]>0&&(n-=e[35]),-1*e[45]>0&&(n-=e[45]),-1*e[55]>0&&(n-=e[55]),t===n&&!!u(e)}function u(e){for(var t=!1,n=!1,r=0;r<=35;r++){var a=0|l[r];if(0!==e[a])if(!0===d(a,e)&&(e[a]>0?t=!0:e[a]<0&&(n=!0)),t&&n)return!1}return!0}function d(e,t){var n=0|t[e],r=~~(e/10),l=~~(e%10);if(n>0&&0===l||n<0&&5===l||0===n)return!1;for(var o=0;o<9;o++)if(0!==a[n+8][o]){var i=r+~~(o%3)-1,c=l+~~(o/3)-1;if(!(c<0||c>5||i>5||i<0)){var u=t[10*i+c];if(!(u*n>0||u>0&&0===c||u<0&&5===c))return!0}}return!1}function s(e,t){var n=0|t[e],r=~~(e/10),l=~~(e%10),o=[];if(n>0&&0===l||n<0&&5===l||0===n)return o;for(var i=0;i<9;i++)if(0!==a[n+8][i]){var c=r+~~(i%3)-1,u=l+~~(i/3)-1;if(!(u<0||u>5||c>5||c<0)){var d=10*c+u,s=0|t[d];s*n>0||s>0&&0===u||s<0&&5===u||o.push(d)}}return o}function f(e,t,n,r,a,o,d){var h,v=9999999*t*-1;if(0===n)return[h,v=function(e,t,n){var r=0;if(c(e))return 0;var a=i(e,t);if(1===a)return 9999999;if(-1===a)return-9999999;for(var o=0;o<=35;o++){var u=0|l[o],d=0,s=e[u],f=void 0;s>0?(f=5-u%10,d+=n[s][f]):s<0&&(f=u%10,d+=-1*n[-1*s][f]),r+=d}return 0|r}(e,o,d)];void 0!==r&&void 0!==a||(r=9999999*t*-1,a=9999999*t);for(var g=function(e,t){for(var n=[],r=0;r<=35;r++){var a=0|l[r];if(!(e[a]*t<=0||0===e[a]))for(var o=s(a,e),i=0;i<o.length;i++){var c=new Int8Array(e);c[o[i]]=c[a],c[a]=0,n.push([[a,o[i]],c])}}return n}(e,t),m=0;m<g.length;m++){var p=g[m][0],w=g[m][1],y=0,S=i(w,o);if(S===t)return[p,999999*t];if(S!==-1*t){if(y=u(w)?0:f(w,-1*t,n-1,a,r,o,d)[1],void 0===h&&(v=y,h=p),(1===t&&y>v||-1===t&&y<v)&&(v=y,h=p),(1===t&&r<v||-1===t&&r>v)&&(r=v),1===t&&a<=v||-1===t&&a>=v)break}else void 0===h&&(v=999999*t*-1,h=p)}return[h,v]}},function(e,t,n){"use strict";n.r(t),function(e){var t=n(0);
/* @license Copyright (c) @kurehajime / source code: https://github.com/kurehajime/colamone_js */!function(e){e.BoardGamejs=function(){},e.BoardGamejs.init=function(){N(),window.innerHeight<window.innerWidth?document.querySelector(".manual").classList.remove("hide"):document.querySelector(".manual").classList.add("hide");n=document.querySelector("#canv").getContext("2d"),(l=document.createElement("canvas")).width=k,l.height=k,(o=document.createElement("canvas")).width=k,o.height=k,(i=document.createElement("canvas")).width=k,i.height=k,(c=document.createElement("canvas")).width=k,c.height=k,(u=document.createElement("canvas")).width=k,u.height=k,(d=document.createElement("canvas")).width=k,d.height=k,(s=document.createElement("canvas")).width=k,s.height=k,(f=document.createElement("canvas")).width=k,f.height=k,(h=document.createElement("canvas")).width=k,h.height=k,(v=document.createElement("canvas")).width=k,v.height=k,(g=document.createElement("canvas")).width=k,g.height=k,y=k/6,S=1,P=!0,n.canvas.style.width=k/_+"px",n.canvas.style.height=k/_+"px",n.canvas.width=k,n.canvas.height=k,r="ontouchstart"in window;r?(document.querySelector("#canv").addEventListener("touchstart",K),document.querySelector("#canv").addEventListener("touchmove",J)):(document.querySelector("#canv").addEventListener("mousemove",U),document.querySelector("#canv").addEventListener("mouseup",K));document.querySelector("#level").addEventListener("change",Q),document.querySelector("#prevprev").addEventListener("click",de),document.querySelector("#prev").addEventListener("click",se),document.querySelector("#next").addEventListener("click",fe),document.querySelector("#nextnext").addEventListener("click",he),document.querySelector("#replay").addEventListener("click",ge),document.querySelector("#tweetlog").addEventListener("click",me),document.querySelector("#newgame").addEventListener("click",ve),document.querySelector("#collapsible").addEventListener("click",(function(){document.querySelector(".manual").classList.toggle("hide")})),window.addEventListener("orientationchange",N),ee(),z.getItem("level_1")||z.setItem("level_1",0);z.getItem("level_2")||z.setItem("level_2",0);z.getItem("level_3")||z.setItem("level_3",0);z.getItem("level_4")||z.setItem("level_4",0);z.getItem("level_5")||z.setItem("level_5",0);void 0!==z.getItem("level_save")&&"undefined"!==z.getItem("level_save")&&null!==z.getItem("level_save")?document.querySelector("#level").value=parseInt(z.getItem("level_save")):(z.setItem("level_save",1),document.querySelector("#level").value=1);var e=ce();e.init?(A=function(e){var n;if(e){for(var r in n=t.a.copyMap(R))n[r]=0;var a=e.split(",");a.length<8&&(a=[1,2,3,4,5,6,7,8]);var l=[0,10,20,30,40,50,11,41],o=[55,45,35,25,15,5,44,14];for(var i in o)n[o[i]]=parseInt(a[i]);for(var c in l)n[l[c]]=-1*parseInt(a[c])}return n}(e.init),R=t.a.copyMap(A)):A=t.a.copyMap(R);e.log&&(G=function(e,n){var r=[],a=t.a.copyMap(n),l={q:0,w:1,e:2,a:3,s:4,d:5,z:6,x:7,c:8},o=(e=(e=(e=e.replace(/q/g,"q,").replace(/w/g,"w,").replace(/e/g,"e,")).replace(/a/g,"a,").replace(/s/g,"s,").replace(/d/g,"d,")).replace(/z/g,"z,").replace(/x/g,"x,").replace(/c/g,"c,")).split(",");r.push(a);for(var i=0;i<o.length;i++)if(""!==o[i]){var c=l[o[i].match(/[qweasdzxc]/)[0]],u=parseInt(o[i].match(/\d*/)[0]),d=10*(Math.floor(u/10)+Math.floor(c%3)-1)+(Math.floor(u%10)+Math.floor(c/3)-1);(a=t.a.copyMap(a))[d]=parseInt(a[u]),a[u]=0,r.push(a)}return r}(e.log,A));e.lv&&(document.querySelector("#level").value=parseInt(e.lv));0!==G.length?(document.querySelector("#log").classList.remove("hide"),document.querySelector("#prevprev").classList.remove("hide"),document.querySelector("#prev").classList.remove("hide"),document.querySelector("#next").classList.remove("hide"),document.querySelector("#nextnext").classList.remove("hide"),document.querySelector("#span_replay").classList.add("hide"),document.querySelector("#span_tweetlog").classList.add("hide"),document.querySelector("#next").focus()):(document.querySelector("#log").classList.add("hide"),document.querySelector("#prevprev").classList.add("hide"),document.querySelector("#prev").classList.add("hide"),document.querySelector("#next").classList.add("hide"),document.querySelector("#nextnext").classList.add("hide"),document.querySelector("#span_replay").classList.add("hide"),document.querySelector("#span_tweetlog").classList.add("hide"));D.onload=function(){p=!0,ne(!0,!1)},D.onerror=function(){ne(!0,!1)},0!==D.width&&(p=!0,ne(!0,!1));setTimeout((function(){0!==D.width&&(p=!0),ne(!0,!1)}),2500),le(),m=document,w="script",b="twitter-wjs",I=m.getElementsByTagName(w)[0],void(m.getElementById(b)||((M=m.createElement(w)).id=b,M.async=!0,M.src="https://platform.twitter.com/widgets.js",I.parentNode.insertBefore(M,I))),0===G.length?0==function(){var e=window.navigator.userAgent.toLowerCase();if(-1!=e.indexOf("bot")||-1!=e.indexOf("lighthouse")||-1!=e.indexOf("headless"))return!0;return!1}()&&window.setTimeout((function(){1==P&&(C=window.setInterval(W,400),W())}),500):(P=!1,F=!0,L=window.setInterval($,1e3));var m,w,b,M,I;a=!1,ne(!0,!1)};var n=null,r=!0,a=!1,l=null,o=null,i=null,c=null,u=null,d=null,s=null,f=null,h=null,v=null,g=null,m=!1,p=!1,w=null,y=null,S=null,b=0,M=0,I=null,x="",q=0,P=!0,F=!1,C=null,L=null,E=[],T=0,_=1;void 0!==window.devicePixelRatio&&1!=window.devicePixelRatio&&(_=window.devicePixelRatio);var A,k=500*_,O={1:[1,1,1,1,0,1,1,1,1],2:[1,1,1,1,0,1,1,0,1],3:[1,1,1,0,0,0,1,1,1],4:[1,1,1,0,0,0,1,0,1],5:[1,0,1,0,0,0,1,0,1],6:[1,0,1,0,0,0,0,1,0],7:[0,1,0,0,0,0,0,1,0],8:[0,1,0,0,0,0,0,0,0],"-1":[1,1,1,1,0,1,1,1,1],"-2":[1,0,1,1,0,1,1,1,1],"-3":[1,1,1,0,0,0,1,1,1],"-4":[1,0,1,0,0,0,1,1,1],"-5":[1,0,1,0,0,0,1,0,1],"-6":[0,1,0,0,0,0,1,0,1],"-7":[0,1,0,0,0,0,0,1,0],"-8":[0,0,0,0,0,0,0,1,0]},R=[-1,0,0,0,0,6,0,0,0,0,-2,-8,0,0,7,5,0,0,0,0,-3,0,0,0,0,4,0,0,0,0,-4,0,0,0,0,3,0,0,0,0,-5,-7,0,0,8,2,0,0,0,0,-6,0,0,0,0,1],B={},X=0,j=0,Y=0,G=[],H=[],D=null;(D=new Image).src="bk.gif";var z=null;try{window==parent&&"localStorage"in window&&null!==window.localStorage&&(z=localStorage).setItem("test",0)}catch(e){z=null}function W(){null!==C&&(Math.random()>.3?V(2):V(1)),T++,ie(),ne(!1,!1),1!==I&&-1!==I&&0!==I||(a=!0,I=null,ne(!1,!1),ee()),T>42&&window.clearInterval(C)}function $(){null!==L&&1==F?fe():clearInterval(L)}function N(){var e=document.querySelector("meta[name=viewport]");if(screen.width<500&&screen.height<500?screen.width<screen.height?e.setAttribute("content","width=500,user-scalable=no"):e.setAttribute("content","height=500,user-scalable=no"):screen.width<500?e.setAttribute("content","width=500,user-scalable=no"):screen.height<500&&e.setAttribute("content","height=500,user-scalable=no"),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){var t=screen.width,n=520;0!==Math.abs(window.orientation)&&(t=screen.height,n=900);var r=Math.round(t/n*1e3)/1e3;r==Math.round(r)&&(r+=1e-4),e.setAttribute("content","initial-scale="+r+", minimum-scale="+r+", maximum-scale="+r+", user-scalable=no")}}function U(e){te(e),ne(!1,!0)}function J(e){e.preventDefault(),e.stopPropagation()}function K(e){te(e);var n=10*Math.floor(X/y)+Math.floor(j/y);if(null!==I||0!==G.length)return ve(),!0;if(!0===P)return P=!1,E=[],R=t.a.copyMap(A),H=[],ne(!1,!1),I=null,a=!1,S=1,window.clearInterval(C),ne(!1,!1),!0;if(null===w)R[n]*S>0&&(w=n);else{if(n==w)return w=null,void ne(!1,!1);t.a.getCanMovePanelX(w,R).indexOf(n)>=0&&(ne(!1,!0),Z(R,n,S)&&(a=!0,ne(!1,!0),setTimeout((function(){a=!1,ne(!1,!1)}),2e3)),R[n]=R[w],R[w]=0,S*=-1,H.push([w,n]),E=[w,n],w=null,x="thinking...",window.setTimeout((function(){ne(!1,!1)}),50),le(),null===I&&window.setTimeout((function(){V(document.querySelector("#level").value),x="",le(),ne(!1,!1)}),250))}ne(!1,!1)}function Q(){var e=document.querySelector("#level").value;z.setItem("level_save",e),z.getItem("level_"+e)>0?document.querySelector("#wins").innerHTML=z.getItem("level_"+e)+" win!":document.querySelector("#wins").innerHTML="",R=t.a.copyMap(A),E=[],B={},H=[],ne(!1,!1)}function V(e){var n,r,l=new Date,o=function(e){var n=0;for(var r in e)if(0!==e[r]){var a=t.a.getCanMovePanelX(r,e);n+=a.length}return n}(R)/2,i=0;switch(e=parseInt(e)){case 1:o<=7&&i++;break;case 2:o<=8&&i++;break;case 3:o<=10&&i++,o<=6&&i++;break;case 4:o<=11&&i++,o<=7&&i++;break;case 5:case 6:o>16&&i--,o<=12&&i++,o<=8&&i++}n=t.a.thinkAI(R,S,e+i+1)[0],E=n,n&&(Z(R,n[1],S)&&(a=!0,ne(!1,!0),setTimeout((function(){a=!1,ne(!1,!1)}),2e3)),R[n[1]]=R[n[0]],R[n[0]]=0,H.push([n[0],n[1]])),S*=-1,r=new Date,q=(r-l)/1e3}function Z(e,t,n){if(n>0){if(t%10==0)return!0}else if(n<0&&t%10==5)return!0;return!1}function ee(){for(var e in R)R[e]=0;for(var t=[1,2,3,4,5,6,7,8],n=[0,10,20,30,40,50,11,41],r=[55,45,35,25,15,5,44,14],a=t.length-1;a>=0;a--){var l=Math.floor(Math.random()*(a+1)),o=t[a];t[a]=t[l],t[l]=o}for(var i in r)R[r[i]]=t[i];for(var c in n)R[n[c]]=-1*t[c]}function te(e){if(null!=e){e.clientX||(e=e.touches||e.touches?e.touches[0]:event.touches[0]);var t=e.target.getBoundingClientRect();X=e.clientX-t.left,j=e.clientY-t.top,X*=_,j*=_}}function ne(e,f){var p=new Int8Array(R);if(n.clearRect(0,0,k,k),!1===f&&(m=!1),!1===f||!1===m){n.drawImage(function(e){if(!1===e)return l;var t=l.getContext("2d");t.clearRect(0,0,k,k);var n=t.createLinearGradient(0,0,k,k);n.addColorStop(0,"#888888"),n.addColorStop(.3,"#444444"),n.addColorStop(1,"#111111");for(var r=0;r<6;r++)for(var a=0;a<6;a++)t.strokeStyle="#333333",0===a?t.fillStyle="#660033":5==a?t.fillStyle="#004466":(r+a)%2==0?t.fillStyle="#FFFFFF":(t.fillStyle="#111111",t.fillStyle=n),t.beginPath(),t.fillRect(r*y,a*y,y,y),t.strokeRect(r*y,a*y,y,y);return l}(e),0,0,k,k),n.drawImage(function(e){if(!1===e)return o;var t=o.getContext("2d");return t.clearRect(0,0,k,k),t.globalAlpha=.07,t.fillStyle="#FFFFFF",t.beginPath(),t.arc(1*y,-3*y,7*y,0,2*Math.PI,!1),t.fill(),o}(e),0,0,k,k),null!==w&&(p[w]=0),n.drawImage(function(e,t){var n=u.getContext("2d");n.clearRect(0,0,k,k);var r,a=t[0]/10|0,l=t[0]%10,o=t[1]/10|0,i=t[1]%10,c=y-1*y/5,d=y-1*y/5,s=o*y+y/10,f=i*y+y/10,h=s+d/2,v=f+c/2,g=h,m=v,p=e[t[1]],w="",S=0;if(2!=t.length)return u;w=p>0?"#0099E6":"#E60073";if(a==o||l==i)S=(a+l)%2==0&&0!==l&&5!=l?.5:.3,a<o&&(s=s-d+10,g-=d),a>o&&(s=s+d-10,g+=d),l<i&&(f=f-c+10,m-=c),l>i&&(f=f+c-10,m+=c),(r=n.createLinearGradient(h,v,g,m)).addColorStop(0,w),r.addColorStop(S,w),r.addColorStop(1,"rgba(255, 255, 255, 0)"),n.fillStyle=r,n.fillRect(s,f,c,d);else{var b,M,I,x,q,P,F,C;S=(a+l)%2==0&&0!==l&&5!=l?.3:.5,a<o&&l<i&&(b=s,M=f-c,I=s+d,x=f,q=s,P=f+c,F=s-d,C=f,g-=d,m-=c,h+=2*d,v+=2*c),a>o&&l>i&&(b=s+d,M=f,I=s+d+d,x=f+c,q=s+d,P=f+c+c,F=s,C=f+c,g+=d,m+=c,h-=2*d,v-=2*c),a<o&&l>i&&(b=s,M=f,I=s+d,x=f+c,q=s,P=f+c+c,F=s-d,C=f+c,g-=d,m+=c,h+=2*d,v-=2*c),a>o&&l<i&&(b=s+d,M=f-c,I=s+d+d,x=f,q=s+d,P=f+c,F=s,C=f,g+=d,m-=c,h-=2*d,v+=2*c),n.beginPath(),n.moveTo(b,M),n.lineTo(I,x),n.lineTo(q,P),n.lineTo(F,C),n.lineTo(b,M),n.closePath(),(r=n.createLinearGradient(h,v,g,m)).addColorStop(0,w),r.addColorStop(S,w),r.addColorStop(.97,"rgba(255, 255, 255, 0)"),n.fillStyle=r,n.fill()}return u}(p,E),0,0,k,k),n.drawImage(function(e){var t=c.getContext("2d");t.clearRect(0,0,k,k);for(var n=0;n<6;n++)for(var r=0;r<6;r++)if(0!==e[10*n+r]){var a=!1;(e[10*n+r]>0&&0===r||e[10*n+r]<0&&5==r)&&(a=!0),t=re(t,n*y,r*y,e[10*n+r],a)}return c}(p),0,0,k,k);var q=g.getContext("2d");q.clearRect(0,0,k,k),q.drawImage(n.canvas,0,0,k,k),m=!0}else n.drawImage(g,0,0,k,k);n.drawImage(function(){var e=d.getContext("2d");e.clearRect(0,0,k,k);var t=X-y/2,n=j-y/2;null!==w&&re(e,t,n,R[w],!1);return d}(),0,0,k,k),0===X&&0===j||!1!==P||n.drawImage(function(){var e=X-X%y,n=j-j%y,a=i.getContext("2d"),l=a.createRadialGradient(e,n,0,e,n,y);if(l.addColorStop(.3,"#7fed7f"),l.addColorStop(1,"#148d14"),a.clearRect(0,0,k,k),a.globalAlpha=.35,a.fillStyle=l,a.lineWidth=1,a.beginPath(),a.fillRect(e,n,y,y),!0===r&&null===w)return i;var o=e/y*10+n/y;if(R[o]*S>0)for(var c=t.a.getCanMovePanelX(o,R),u=0;u<=c.length-1;u++)e=Math.floor(c[u]/10),n=Math.floor(c[u]%10),a.globalAlpha=.6,a.strokeStyle="#7fed7f",a.lineWidth=y/20,a.beginPath(),a.arc(e*y+y/2,n*y+y/2,y/2-y/10,0,2*Math.PI,!1),a.stroke();return i}(),0,0,k,k),(a||null!==I)&&!1===P&&0==F&&n.drawImage(function(){var e=v.getContext("2d"),t="",n=Math.round(1.5*y);return e.clearRect(0,0,k,k),e.globalAlpha=.4,e.textBaseline="middle",e.textAlign="center",e.shadowBlur=10,e.shadowColor="rgba(0, 0, 0, 0.5)",e.font="bold "+n+"px Play,sans-serif",e.globalAlpha=.3,e.shadowBlur=2,e.shadowColor="rgba(255, 255, 255, 1)",e.fillStyle="#E60073",t=M,e.beginPath(),e.fillText(t,1*y,3.8*y),t="8",e.beginPath(),e.fillText(t,2*y,5.3*y),e.lineWidth=.2*y,e.strokeStyle="#E60073",e.beginPath(),e.moveTo(.4*y,5.55*y),e.lineTo(2.6*y,3.55*y),e.closePath(),e.stroke(),t=b,e.fillStyle="#0099E6",e.beginPath(),e.fillText(t,4*y,.7*y),t="8",e.beginPath(),e.fillText(t,5*y,2.3*y),e.lineWidth=.2*y,e.strokeStyle="#0099E6",e.beginPath(),e.moveTo(3.4*y,2.55*y),e.lineTo(5.6*y,.55*y),e.closePath(),e.stroke(),v}(),0,0,k,k),n.drawImage(function(){var e=s.getContext("2d"),t=1.3*y,n=2.5*y;if(e.clearRect(0,0,k,k),""===x)return s;e.shadowBlur=10,e.shadowColor="rgba(100, 100, 100, 0.5)",e.shadowOffsetX=5,e.shadowOffsetY=5,e.globalAlpha=.9,e.fillStyle="#FFFFFF",ae(e,t,n,3.4*y,1*y,y/20);var r=Math.round(.36*y);return e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowColor="rgba(0, 0, 0, 0)",e.font="bold "+r+"px Play,sans-serif",e.globalAlpha=1,e.fillStyle="#333333",e.textBaseline="middle",e.textAlign="center",e.beginPath(),e.fillText(x,3*y,3*y),s}(),0,0,k,k),!0===P&&n.drawImage(function(){var e=h.getContext("2d");e.clearRect(0,0,k,k),e.globalAlpha=.5,e.fillStyle="#000000",e.fillRect(0,0,k,k);var t=2*y,n=3.5*y;e.shadowBlur=20,e.shadowColor="rgba(0, 0, 0, 0.3)",e.shadowOffsetX=5,e.shadowOffsetY=5,e.globalAlpha=.8,e.fillStyle="#FFFFFF",e.beginPath(),ae(e,t,n,2*y,1*y,y/20),e.shadowColor="rgba(0, 0, 0, 0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;var r=Math.round(.5*y),a="Play";return a+=T%10==0?" ":"",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowColor="rgba(0, 0, 0, 0)",e.font="bold "+r+"px Play,sans-serif",e.globalAlpha=1,e.fillStyle="#333333",e.textBaseline="middle",e.textAlign="center",e.beginPath(),e.fillText(a,3*y,4*y),a="colamone",r=Math.round(1*y),e.font="bold "+r+"px Play,sans-serif",e.fillStyle="#FFFFFF",e.shadowBlur=0,e.beginPath(),e.fillText(a,3*y,2*y),h}(),0,0,k,k)}function re(e,t,r,a,l){var o;if(0===a)return e;o=a>0?"#0099E6":"#E60073";var i,c=n.createLinearGradient(t,r,t+y,r+y);c.addColorStop(0,"rgb(255, 255, 255)"),c.addColorStop(.4,o),c.addColorStop(1,o),e.shadowBlur=10,e.shadowColor="rgba(0, 0, 0, 1)",e.shadowOffsetX=2,e.shadowOffsetY=2,e.fillStyle=c,e.beginPath(),ae(e,t+y/10,r+y/10,y-1*y/5,y-1*y/5,y/20),e.shadowColor="rgba(0, 0, 0, 0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,p&&(e.globalAlpha=.35,e.save(),e.clip(),e.drawImage((i=f.getContext("2d"),p&&i.drawImage(D,0,0,k/_,k/_,0,0,k,k),f),t+y/10,r+y/10,y-1*y/5,y-1*y/5),e.restore(),e.globalAlpha=1),e.fillStyle="#FFFFFF";var u=Math.round(.18*y);e.textBaseline="middle",e.textAlign="center",e.font=u+"pt 'Play',Arial",e.beginPath(),e.fillText(Math.abs(a),t+y/2,r+y/2);for(var d=0;d<=O[a].length-1;d++)if(0!==O[a][d]){var s=t+y/4.16+Math.floor(y-1*y/5)/3*Math.floor(d%3),h=r+y/4.16+Math.floor(y-1*y/5)/3*Math.floor(d/3);e.fillStyle="#FFFFFF",e.beginPath(),e.arc(s,h,.06*y,0,2*Math.PI,!1),e.fill()}return l&&(e.shadowBlur=10,e.shadowColor="rgba(0, 0, 0, 1)",e.globalAlpha=1,e.fillStyle="#FFFFFF",u=Math.round(.5*y),e.textBaseline="middle",e.textAlign="center",e.font="bolder "+u+"pt Play,Arial ",e.beginPath(),e.fillText(Math.abs(a),t+y/2,r+y/2),e.globalAlpha=1,e.shadowColor="rgba(0, 0, 0, 0)",e.shadowBlur=0),e}function ae(e,t,n,r,a,l){e.beginPath(),e.moveTo(t+l,n),e.lineTo(t+r-l,n),e.arc(t+r-l,n+l,l,1.5*Math.PI,0,!1),e.lineTo(t+r,n+a-l),e.arc(t+r-l,n+a-l,l,0,.5*Math.PI,!1),e.lineTo(t+l,n+a),e.arc(t+l,n+a-l,l,.5*Math.PI,Math.PI,!1),e.lineTo(t,n+l),e.arc(t+l,n+l,l,Math.PI,1.5*Math.PI,!1),e.closePath(),e.fill()}function le(){ie();document.querySelector("#blue").innerHTML="Blue: "+b+"/8",document.querySelector("#red").innerHTML=" Red: "+M+"/8",document.querySelector("#time").innerHTML="("+q.toFixed(3)+"sec)",0===G.length&&(1==I?(x="You win!",z.setItem("level_"+document.querySelector("#level").value,parseInt(z.getItem("level_"+document.querySelector("#level").value))+1),oe()):-1==I?(x="You lose...",z.setItem("level_"+document.querySelector("#level").value,0),oe()):0===I&&(x=B[JSON.stringify(R)]>=3?"3fold repetition":"-- Draw --",oe())),z.getItem("level_"+document.querySelector("#level").value)>0?document.querySelector("#wins").innerHTML=z.getItem("level_"+document.querySelector("#level").value)+" win!":document.querySelector("#wins").innerHTML=""}function oe(){0===G.length&&(document.querySelector("#span_replay").classList.remove("hide"),document.querySelector("#span_tweetlog").classList.remove("hide"))}function ie(){var e=0,n=0,r=[0,10,20,30,40,50],a=[5,15,25,35,45,55];for(var l in r)1*R[r[l]]>0&&(e+=R[r[l]]);for(var o in a)-1*R[a[o]]>0&&(n+=R[a[o]]);e>=8?I=1:n<=-8&&(I=-1),!function(e){var n=!1,r=!1;for(var a in e){if(0!==e[a])if(0!==t.a.getCanMovePanelX(a,e).length&&(e[a]>0?n=!0:e[a]<0&&(r=!0)),n&&r)return!1}return!0}(R)?!0===function(e){var t=JSON.stringify(e);if(void 0===B[t])return B[t]=1,!1;B[t]+=1;if(B[t]>=3)return!0;return!1}(R)&&(I=0):Math.abs(e)>Math.abs(n)?I=1:Math.abs(e)<Math.abs(n)?I=-1:Math.abs(e)==Math.abs(n)&&(I=0),b=Math.abs(e),M=Math.abs(n)}function ce(){var e={};if(1<document.location.search.length)for(var t=document.location.search.substring(1).split("&"),n=0;n<t.length;n++){var r=t[n].split("="),a=decodeURIComponent(r[0]),l=decodeURIComponent(r[1]);e[a]=decodeURIComponent(l)}return e}function ue(e){var t="";for(var n in e){var r=e[n][0],a=e[n][1],l=Math.floor(a/10)-Math.floor(r/10),o=Math.floor(a%10)-Math.floor(r%10),i="";-1===l&&-1===o&&(i="q"),0===l&&-1===o&&(i="w"),1===l&&-1===o&&(i="e"),-1===l&&0===o&&(i="a"),0===l&&0===o&&(i="s"),1===l&&0===o&&(i="d"),-1===l&&1===o&&(i="z"),0===l&&1===o&&(i="x"),1===l&&1===o&&(i="c"),t+=r+i}return t}function de(){Y=0,F=!1,R=t.a.copyMap(G[Y]),I=null,a=!1,le(),ne(!1,!1)}function se(){Y<=0||(F=!1,Y-=1,R=t.a.copyMap(G[Y]),I=null,a=!1,le(),ne(!1,!1))}function fe(){Y+1>G.length-1||(Y+=1,R=t.a.copyMap(G[Y]),le(),ne(!1,!1))}function he(){Y=G.length-1,F=!1,R=t.a.copyMap(G[Y]),le(),ne(!1,!1)}function ve(){var e=document.location.href.split("?")[0];if(!0!==P){var n=ce();n.lang&&(e+="?lang="+n.lang),navigator.onLine?location.href=e:(R=t.a.copyMap(A),ee(),H=[],x="",I=null,S=1,ne(!1,!1))}else K(null)}function ge(){var e=document.location.href.split("?")[0],t="?init="+A[55]+","+A[45]+","+A[35]+","+A[25]+","+A[15]+","+A[5]+","+A[44]+","+A[14],n="&log="+ue(H);n+="&lv="+document.querySelector("#level").value,location.href=e+t+n}function me(){var e=document.location.href.split("?")[0],t="?init="+A[55]+","+A[45]+","+A[35]+","+A[25]+","+A[15]+","+A[5]+","+A[44]+","+A[14],n="%26log="+ue(H);n+="%26lv="+document.querySelector("#level").value,window.open("https://twitter.com/intent/tweet?text="+e+t+n+"%20%23colamone")}null===z&&((z={}).getItem=function(){},z.setItem=function(){},navigator.cookieEnabled&&(z.hasItem=function(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},z.getItem=function(e){return e&&new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)?unescape(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1")):null},z.setItem=function(e,t){e&&!/^(?:expires|max\-age|path|domain|secure)$/i.test(e)&&(document.cookie=escape(e)+"="+escape(t))}))}((0).self||e),document.addEventListener("DOMContentLoaded",(function(){BoardGamejs.init()}))}.call(this,n(2))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}]);
//# sourceMappingURL=main.js.map